# This file sources other files in `hyprland` and `custom` folders
# You wanna add your stuff in files in `custom`

$qsConfig = ii
exec = hyprctl dispatch submap global # DO NOT REMOVE THIS OR YOU WON'T BE ABLE TO USE ANY KEYBIND
submap = global # This is required for catchall to work

# Defaults
source=hyprland/env.conf
source=hyprland/execs.conf
source=hyprland/general.conf
source=hyprland/rules.conf
source=hyprland/colors.conf
source=hyprland/keybinds.conf

# Custom 
source=custom/env.conf
source=custom/execs.conf
source=custom/general.conf
source=custom/rules.conf
source=custom/keybinds.conf

# nwg-displays support
source=workspaces.conf
source=monitors.conf

decoration {
  blur {
    enabled = true
    size = 8
    passes = 3
    new_optimizations = true
    ignore_opacity = true
  }
}

# 全局：聚焦 / 非聚焦透明度
windowrulev2 = opacity 0.9 override 0.7 override, class:.*

# kitty 终端：专属透明度配置
# windowrule = opacity 0.95 override 0.8 override, class:kitty

# 微信规则：不透明，浮动窗口（可避免一些模糊渲染）
windowrule = opacity 1 override, float, class:wechat

animations {
  enabled = true
  # 可选：自定义一条更柔和的贝塞尔曲线（bezier）
  bezier = slow, 0.2, 0.8, 0.2, 1.0

  # 透明度渐变整体时长（全局淡入淡出）
  animation = fade, 1, 12, slow

  # 切换焦点时的透明度/阴影过渡（关键）
  animation = fadeSwitch, 1, 12, slow

  # 非焦点窗口的“变暗”过渡（如果启用了 dim）
  animation = fadeDim, 1, 12, slow
}
exec = hyprctl dispatch "movewindow to 100 100"
# 只对 class 名为 WeChat 的窗口禁用模糊
windowrule = noblur,class:^(WeChat)$,title:^(微信)$
